# apps/openmetadata/openmetadata-values.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: openmetadata-values
  namespace: openmetadata
  labels:
    app.kubernetes.io/part-of: openmetadata
    app.kubernetes.io/managed-by: flux
data:
  values.yaml: |
    # Disable subcharts - using external services
    mysql:
      enabled: false
    elasticsearch:
      enabled: false
    kafka:
      enabled: false
    airflow:
      enabled: false
    
    # Configure PostgreSQL database connection
    # Based on OpenMetadata Helm chart structure: openmetadata.database section
    openmetadata:
      database:
        host: "postgresql.postgres.svc.cluster.local"
        port: 5432
        user: "openmetadata_user"
        # Password can be provided via existingSecret
        existingSecret: "openmetadata-db-secret"
        existingSecretKey: "password"
        database: "openmetadata_db"
        # SSL configuration
        sslMode: "disable"
        connectionOptions: {}

