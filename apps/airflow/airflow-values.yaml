# infrastructure/airflow/values.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: airflow-values
  namespace: airflow
data:
  values.yaml: |
    executor: CeleryExecutor
    redis:
      enabled: true
    postgresql:
      enabled: true
      persistence:
        size: 50Gi
    workers:
      replicas: 4
      persistence:
        enabled: true
        size: 20Gi
    webserver:
      replicas: 2
      resources:
        requests:
          cpu: 1
          memory: 2Gi
    flower:
      enabled: true
    metrics:
      enabled: true
      serviceMonitor:
        enabled: true